<!-- 
Cheatsheet for umbraco (http://umbraco.com/)
-->

<asp:Content ContentPlaceHolderID="someID" runat="server">
  <!-- Need to store all template code in here ... -->
  
  <!-- CSS -->
  <link rel="stylesheet" href="/css/style.css">
  
  
  
  
  <!-- Document type property -->
  <umbraco:Item field="bodyText" runat="server"/>
  
  <!-- Recursively goes up the content tree for field value  -->
  <umbraco:Item field="bodyText" recursive="true" runat="server"/>
  
  <!-- Reference developer macro  -->
  <umbraco:Macro macroAlias="topNavigation" Alias="topNavigation" runat="server" />
  
  
  
  <!-- Umbraco inline razor script -->
  <umbraco:Macro runat="server" language="cshtml">
    @* 
    Multiline 
    comment
    *@
    
    @Model.Name
    @Model.Url
    @Model.Id
    
    @Model.Children
    @Model.Children.where("Visible")
    @Model.Children.Count()
    
    @Model.docTypeAlias
    @{ 
      dynamic children = Model.AncesterOrSelf(1).Children // At level 1 
      dynamic list = Model.AncestorOrSelf(1).DescendantsOrSelf("ArticleTypeAlias").OrderBy("CreateDate desc").Take(5)
    }
    
    @Model.Ancestors()
    
    @Parameter.siteName
    
    // Subpages
    @inherits umbraco.MacroEngines.DynamicNodeContext

    @{
        dynamic pages = Model.AncestorOrSelf(2).Children;
    }

    <ul>
        @foreach (var page in pages)
        {      
            <li><a href="@page.Url">@page.Name</a></li>

            if (page.Children.Count() > 0)
            {
                dynamic subpages = page.Children;
                <ul>
                   @foreach (var subpage in subpages)
                   {
                        <li><a href="@subpage.Url">@subpage.Name</a></li>
                   }
                </ul>
            }
        }
    </ul>
    
    // Items of a node id
    <ul>
        @{
          dynamic newsId = 1063;
          dynamic newsItems = new umbraco.MacroEngines.DynamicNode(newsId);
        }

        @foreach(var item in newsItems.Children.OrderBy("CreateDate")) {
          <li><a href="@item.Url">@item.Name</a></li>
        }
    </ul>

    // 'NewsItem' document types
    @{
      dynamic newsItems = Model.AncestorOrSelf(1).DescendantsOrSelf("NewsItem").OrderBy("CreateDate desc").Take(5);
    }
    <ul>
        @foreach(var item in newsItems) {
          <li><a href="@item.Url">@item.Name</a></li>
        }
    </ul>

    @{ var num = 10; }
  </umbraco:Macro>
  
</asp:Content>

<asp:ContentPlaceHolder ID="someID" runat="server"/> <!-- Reference someID content above -->

